FROM alpine/java:21-jdk

ARG JAR_FILE

ENV SPRING_APPLICATION_NAME=$SPRING_APPLICATION_NAME \
    SERVER_SERVLET_CONTEXT_PATH=$SERVER_SERVLET_CONTEXT_PATH \
    LOGGING_LEVEL_APP_SPORTAHUB=$LOGGING_LEVEL_APP_SPORTAHUB \
    LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB=$LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB \
    MONGODB_URI=$MONGODB_URI

COPY ${JAR_FILE} /app.jar

EXPOSE 8080

ENTRYPOINT ["java", "-jar", "/app.jar"]